<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--    Donation Order Confirmation Report Template-->

    <template id="taqat_donation_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <t t-set="o" t-value="docs"/>
                    <center><h4>Receipt Order</h4></center>
                    <div class="col-6 p-0">
                        <!--                            <div name="td_section_subtotal">-->
                        <table class="table table-sm">
                            <tr>
                                <th class="table-active"
                                    style="font-weight:bold;  padding-left: 6px;; border:1px solid black; width:20%; text-align:left;">
                                    Address:
                                </th>
                            </tr>
                            <tr>
                                <td style="text-align:left; width:40%;  padding: 6px;">
                                    <b>Building No:</b><span t-field="o.building_no"/>
                                    <br/>
                                    <b>Zone:</b><span t-field="o.zone"/>
                                    <br/>
                                    <b>Street No:</b><span t-field="o.street"/>
                                    <br/>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!--Customer Information table-->
                    <table class="table table-sm table-bordered border-black">
                        <tr>
                            <th class="table-active"
                                style="text-align:center; border:1px solid black; width:10%; font-weight:bold;">
                                Order Number:
                            </th>
                            <td style="text-align:center;border:1px solid black; width:20%;">
                                <span style="text-align:center;" t-field="o.order_number"/>
                            </td>
                            <th class="table-active"
                                style="text-align:center; border:1px solid black; width:10%; font-weight:bold;">
                                Order Date:
                            </th>
                            <td style="text-align:center;border:1px solid black; width:20%;">
                                <span style="text-align:center;" t-field="o.order_date"/>
                            </td>
                            <th class="table-active"
                                style="text-align:center; width:10%; border:1px solid black; font-weight:bold;">
                                Driver:
                            </th>
                            <td style="text-align:center;border:1px solid black; width:20%;    background-color: white !important;">
                                <span style="text-align:center;" t-field="o.driver_id.name"/>
                            </td>
                        </tr>
                        <tr>
                            <th class="table-active"
                                style="text-align:center; border:1px solid black; width:10%; font-weight:bold;">
                                Donator
                            </th>
                            <td style="text-align:center;border:1px solid black; width:20%;">
                                <span style="text-align:center;" t-field="o.donator_id.name"/>
                            </td>
                            <th class="table-active"
                                style="text-align:center; border:1px solid black; width:10%; font-weight:bold;">
                                Donation Type:
                            </th>
                            <td style="text-align:center;border:1px solid black; width:20%;">
                                <span style="text-align:center;" t-field="o.donation_type.name"/>
                            </td>
                            <th class="table-active"
                                style="text-align:center; width:10%; border:1px solid black; font-weight:bold;">
                                Description:
                            </th>
                            <td style="text-align:center;border:1px solid black; width:20%;background-color: white !important;">
                                <span style="text-align:center;" t-field="o.description"/>
                            </td>
                        </tr>
                    </table>
                    <!--                    </div>-->
                    <!--                    &lt;!&ndash;Invoice lines table&ndash;&gt;-->
                    <t t-if="o.is_container == False">
                        <table style="font-size:14px; border-bottom: 1px solid black; "
                               class="table table-sm">
                            <thead class="table-active">
                                <tr style="border-bottom:1px solid black;">
                                    <th
                                        style="text-align:center; width:20%; font-weight:bold; border:1px solid black;color:#495057">
                                        product
                                    </th>
                                    <th
                                        style="text-align:center; width:45%;; font-weight:bold; border:1px solid black;color:#495057">
                                        UOM
                                    </th>
                                    <th
                                        style="text-align:center; width:10%; font-weight:bold; border:1px solid black;color:#495057">
                                        Quantity
                                    </th>

                                    <th
                                        style="text-align:center; width:10%; font-weight:bold; border:1px solid black;color:#495057;">
                                        Description
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="o.donation_order_line_ids" t-as="line">
                                    <tr>

                                        <td style="text-align:center; width:20%;border-right: 1px solid black;border-left: 1px solid black;">
                                            <t t-if="line.product_id">
                                                <span style="text-align:center;"
                                                      t-field="line.product_id.name"/>
                                            </t>
                                        </td>
                                        <td style="text-align:center; width:45%;border-right: 1px solid black;">
                                            <t t-if="line.product_uom_id">
                                                <span style="text-align:center;" t-field="line.product_uom_id.name"/>
                                            </t>
                                        </td>
                                        <td style="text-align:center; width:10%; border-left: 1px solid black;border-right: 1px solid black;">
                                            <t t-if="line.quantity">
                                                <span style="text-align:center;" t-field="line.quantity"/>
                                            </t>
                                        </td>
                                        <td style="text-align:right; width:10%;border-right: 1px solid black;    background-color: white !important;">
                                            <t t-if="line.description">
                                                <span t-field="line.description"/>
                                            </t>
                                        </td>

                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>
                    <t t-else="">
                        <table style="font-size:14px; border-bottom: 1px solid black;"
                               class="table table-sm">
                            <thead class="table-active">
                                <tr style="border-bottom:1px solid black;">
                                    <th
                                        style="text-align:center; width:20%; font-weight:bold; border:1px solid black;color:#495057">
                                        Containers
                                    </th>
                                    <th
                                        style="text-align:center; width:45%;; font-weight:bold; border:1px solid black;color:#495057">
                                        Number of bags
                                    </th>
                                    <th
                                        style="text-align:center; width:10%; font-weight:bold; border:1px solid black;color:#495057">
                                        Comments
                                    </th>

                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="o.donation_order_containers_ids" t-as="line">
                                    <tr>

                                        <td style="text-align:center; width:20%;border-right: 1px solid black;border-left: 1px solid black;">
                                            <t t-if="line.container_id">
                                                <span style="text-align:center;"
                                                      t-field="line.container_id.name"/>
                                            </t>
                                        </td>
<!--                                        <td style="text-align:center; width:45%;border-right: 1px solid black;">-->
<!--                                            <t t-if="line.name">-->
<!--                                                <span style="text-align:center;" t-field="line.name"/>-->
<!--                                            </t>-->
<!--                                        </td>-->
                                        <td style="text-align:center; width:10%; border-left: 1px solid black;border-right: 1px solid black;">
                                            <t t-if="line.nbr_of_bags">
                                                <span style="text-align:center;" t-field="line.nbr_of_bags"/>
                                            </t>
                                        </td>
                                        <td style="text-align:center; width:10%;border-right: 1px solid black;background-color: white !important;">
                                            <t t-if="line.comments">
                                                <span t-field="line.comments"/>
                                            </t>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>
                    <div class="row" style="padding-top: 50px;">
                         <div class="col-4">
                             <table style="border: none !important;">
                                 <tr style="text-align: center;">
                                     <th style="width:50%;"><strong>Donation Order</strong></th>
                                 </tr>
                                 <tr style="text-align: center;height: 75px;">
                                    <th style="width:30%;">
                                     <img style="border-bottom: 1px solid black;" class="pos-receipt-logo" width="150" height="75" t-if="o.sign_signature"
                                             t-attf-src="data:image/*;base64, #{o.sign_signature}"/>
                                    </th>
                                 </tr>
                                 <tr style="text-align: center;">
                                     <th><strong><t t-if="o.order_number" t-esc="o.donator_id.name"/></strong></th>
                                 </tr>
                             </table>
                         </div>
                        <div class="col-4">
                             <table style="border: none !important;">
                                 <tr style="text-align: center;">
                                     <th style="width:50%;"><strong>Driver</strong></th>
                                 </tr>
                                 <tr style="text-align: center;height: 75px;">
                                     <th style="width:30%;">
                                         <img style="border-bottom: 1px solid black;" class="pos-receipt-logo" width="150" height="75" t-if="o.get_signature(o.driver_id).sign_signature"
                                            t-attf-src="data:image/*;base64, #{o.get_signature(o.driver_id).sign_signature}"
                                        />
                                     </th>
                                 </tr>
                                 <tr style="text-align: center;">
                                     <th><strong><t t-if="o.driver_id" t-esc="o.driver_id.name"/></strong></th>
                                 </tr>
                             </table>
                         </div>
                         <div class="col-4">
                             <table style="border: none !important;width: 100%;">
                                 <tr style="text-align: center;">
                                     <th style="width:50%;"><strong>Inventory clerk</strong></th>
                                 </tr>
                                 <tr style="text-align: center;height: 75px;">
                                    <th style="width:30%;">
                                        <t t-if="o.env['container.order'].search([('order_number', '=', o.id), ('parent_id', '=', False)], limit=1)">
                                            <t t-set="container_order" t-value="o.env['container.order'].search([('order_number', '=', o.id), ('parent_id', '=', False)], limit=1)"/>
                                            <t t-if="container_order and container_order.inspection_user_id">
                                                <img style="border-bottom: 1px solid black;" class="pos-receipt-logo" width="150" height="75" t-if="container_order.inspection_user_id.sign_signature"
                                                     t-attf-src="data:image/*;base64, #{o.sign_signature}"/>
                                            </t>
                                        </t>
                                    </th>
                                 </tr>
                                 <tr style="text-align: center;">
                                     <th>
                                         <t t-if="o.env['container.order'].search([('order_number', '=', o.id), ('parent_id', '=', False)], limit=1)">
                                            <t t-set="container_order" t-value="o.env['container.order'].search([('order_number', '=', o.id), ('parent_id', '=', False)], limit=1)"/>
                                            <t t-if="container_order and container_order.inspection_user_id">
                                                <strong><t t-if="container_order.inspection_user_id.name" t-esc="container_order.inspection_user_id.name"/></strong>
                                            </t>
                                        </t>
                                     </th>
                                 </tr>
                             </table>
                         </div>
                     </div>

                </div>

            </t>
        </t>
    </template>
    <template id="taqat_donation_template_report">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <!--                <t t-set="lang" t-value="o.partner_id.sudo().lang"/>-->
                <t t-call="taqat_donation.taqat_donation_template"/>
            </t>
        </t>
    </template>
</odoo>