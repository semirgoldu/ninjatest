<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<template id="cart_sidebar_content" name="Cart Sidebar Content">
		<div class="cart-content">
			<div class="cart-sidebar-heading p-3 border-bottom">
				<h3 class="cart-title d-flex align-items-center">
					<span class="ri ri-shopping-cart-2-line align-middle mr-2"></span>
					<span>Your Cart</span>
					<span class="lnr lnr-cross ml-auto align-middle" onclick="CloseCartSidebar()" id="close_cart_sidebar"/>
				</h3>
			</div>
			<div t-if="not website_sale_order or not website_sale_order.website_order_line" class="empty_cart">
	          	<div class="empty-cart-image pt80">
	          		<img src="/vouge_theme_common/static/src/img/empty_cart.svg" class="img img-fluid"/>
	          	</div>
	          	<div class="empty-cart-button mt-3 text-center">
	          		<h3 class="text-secondary mb-3">Opss! Your cart is empty!</h3>
	          		<a class="btn btn-secondary bizople_button" href="/shop">
                       	<span class="ri ri-shopping-cart-2-line mr-2"/>
                       	<span>Start Shopping</span>
                 	</a>
	          	</div>
	        </div>
	        <t t-if="website_sale_order and website_sale_order.website_order_line">
	        	<div class="sidebar-cart-lines bg-o-color-3">
		            <t t-foreach="website_sale_order.website_order_line" t-as="line">
						<t t-set="combination" t-value="line.product_id.product_template_attribute_value_ids + line.product_no_variant_attribute_value_ids"/>
						<t t-set="combination_info" t-value="line.product_id.product_tmpl_id._get_combination_info(combination, pricelist=website_sale_order.pricelist_id, add_qty=line.product_uom_qty)"/>
                        <t t-set="show_qty" t-value="is_view_active('website_sale.product_quantity')"/>
		                <div class="bg-white cart_line m-2 mb8 p-2 rounded-sm row align-items-center">
		                    <div class="col-3 text-center">
		                        <span t-field="line.product_id.image_128" t-options="{'widget': 'image', 'qweb_img_responsive': False, 'class': 'rounded o_image_64_max'}" />
		                    </div>
		                    <div class="col-9">
		                        <div class="cart-product-name-detail">
									<div>
										<t t-call="website_sale.cart_line_product_link">
											<span class="h6" t-out="line.name_short" />
										</t>
									</div>
									<div class="mt-2 d-flex align-items-center">
										<div class="product-price text-primary">
											<span class="main_price" t-field="line.price_reduce_taxexcl" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}"/>
											<del t-if="combination_info['has_discounted_price']" class="discount_price text-danger mr8" style="white-space: nowrap;" t-out="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}" />
										</div>
										<div class="mr-3 ml-auto">
		                        			Qty: <t t-out="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" />
										</div>
									</div>
		                        </div>
		                    </div>
		                </div>
		            </t>
		        </div>
	            <div class="text-center mt-auto pb-3 shadow">
	                <!-- <span class="h6"> -->
	                    <div id="cart_total" t-att-class="extra_class or ''" t-if="website_sale_order and website_sale_order.website_order_line">
				            <table class="table">
				                  <tr id="empty">
				                      <t t-if='not no_rowspan'><td rowspan="10" class="border-0"/></t>
				                      <td class="col-md-2 col-3 border-0"></td>
				                      <td class="col-md-2 col-3 border-0" ></td>
				                  </tr>
				                  <tr id="order_total_untaxed">
				                      <td class="text-right border-0">Subtotal:</td>
				                      <td class="text-xl-right border-0" >
				                          <span t-field="website_sale_order.amount_untaxed" class="monetary_field" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}"/>
				                      </td>
				                  </tr>
				                  <tr id="order_total_taxes">
				                      <td class="text-right border-0">Taxes:</td>
				                      <td class="text-xl-right border-0">
				                           <span t-field="website_sale_order.amount_tax" class="monetary_field" style="white-space: nowrap;" t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}" />
				                      </td>
				                  </tr>
				                  <tr id="order_total">
				                      <td class="text-right"><strong>Total:</strong></td>
				                      <td class="text-xl-right">
				                          <strong t-field="website_sale_order.amount_total" class="monetary_field" t-options='{"widget": "monetary", "display_currency": website_sale_order.pricelist_id.currency_id}'/>
				                      </td>
				                  </tr>
				            </table>
				        </div>
	                <!-- </span> -->
	                <a role="button" class="btn btn-primary bizople_button mr-2 mr-md-3" href="/shop/cart">
                       	View Cart (<t t-out="website_sale_order.cart_quantity" /> items)
                 	</a>
                 	<a role="button" t-if="website_sale_order and website_sale_order.website_order_line" class="btn btn-secondary bizople_button" href="/shop/checkout?express=1">
                        <span class="">Process Checkout</span>
                    </a>
	            </div>
	        </t>
	    </div>
	</template>

</odoo>